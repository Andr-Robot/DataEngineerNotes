* [DNS使用的是TCP协议还是UDP协议](#dns使用的是tcp协议还是udp协议)
* [http和https的区别](#http和https的区别)
* [HTTP的长连接和短链接的区别](#http的长连接和短链接的区别)

# DNS使用的是TCP协议还是UDP协议
参见[DNS使用的是TCP协议还是UDP协议](http://benbenxiongyuan.iteye.com/blog/1088085)   

DNS同时占用UDP和TCP端口53。DNS在进行区域传输的时候使用TCP协议，其它时候则使用UDP协议；UDP报文的最大长度为512字节，而TCP则允许报文长度超过512字节。当DNS查询超过512字节时，协议的TC标志出现删除标志，这时则使用TCP发送。通常传统的UDP报文一般不会大于512字节。 

# http和https的区别
- HTTP 缺省工作在TCP协议80端口，HTTPS缺省工作在TCP协议443端口。
-  http是明文传输，https是加密的安全传输。

# HTTP的长连接和短链接的区别
HTTP的长连接和短连接**本质上是TCP长连接和短连接**。**HTTP属于应用层协议**，在**传输层使用TCP协议**，在**网络层使用IP协议**。IP协议主要解决网络路由和寻址问题，TCP协议主要解决如何在IP层之上可靠的传递数据包，使在网络上的另一端收到发端发出的所有包，并且顺序与发出顺序一致。TCP有可靠，面向连接的特点。

在HTTP/1.0中，**默认使用的是短连接**。浏览器和服务器每进行一次HTTP操作，就建立一次连接，但任务结束就中断连接。

HTTP/1.1起，**默认使用长连接**，用以保持连接特性。使用长连接的HTTP协议，会在**响应头**有加入这行代码：`Connection:keep-alive`。在使用长连接的情况下，当一个网页打开完成后，客户端和服务器之间用于传输HTTP数据的TCP连接不会关闭，如果客户端再次访问这个服务器上的网页，会继续使用这一条已经建立的连接。**Keep-Alive不会永久保持连接，它有一个保持时间，可以在不同的服务器软件（如Apache）中设定这个时间**。实现长连接要客户端和服务端都支持长连接。

**长连接**可以省去较多的TCP建立和关闭的操作，减少浪费，节约时间。对于频繁请求资源的客户来说，较适用长连接。但可能会损害服务器的整体性能，如apache的长连接时间的长短，直接影响到服务器的并发数。

**短连接**管理起来比较简单，存在的连接都是有用的连接，不需要额外的控制手段。但如果客户请求频繁，将在TCP的建立和关闭操作上浪费时间和带宽。

**应用场景**：
- 长连接多用于操作频繁，点对点的通讯，而且连接数不能太多情况。
- 短链接多用于像WEB网站的http服务。